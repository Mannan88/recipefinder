<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flavour Finder</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=person" />
    <link href="styles.css" rel="stylesheet" />
</head>

<body>
    <div class="container" style="justify-content: center; text-align: center; display: block;">
    <div class="profile">
        <div class="profile_photo">
            <% if(user.img) { %>
                <img src="<%= user.img %>" alt="profile photo">
            <% } else { %>
                <span class="material-symbols-outlined">
                    person
                    </span>   
            <% } %>
        </div>
        <p><%= user.email %></p>
        <form action="/logout" method="post">
            <button type="submit">Log Out</button>
        </form>
    </div>
    <h2 style="margin:20px 0;">Saved Recipes</h2>
<div id="recipes-container" class="recipes-section" style="margin: 20px auto;">
   
    
    <% if (recipeDetails && recipeDetails.length > 0) { %>
        <% recipeDetails.forEach(recipe => { %>
            <div class="recipe-card">
                <img src="<%= recipe.image %>" alt="<%= recipe.name %>">
                <div class="recipe-card-details">
                    <a href="/recipe/<%=recipe.id%>">
                        
                        <p><%= recipe.name %></p>
                    </a>
                    <form action="/favourite" method="POST" style="display:flex; align-items:center">
                        <input type="hidden" name="mealId" value="<%= recipe.id %>">
                        <button type="submit" class="favorite-button">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471.701 471.701" xml:space="preserve">
                                <path d="M433.601,67.001c-24.7-24.7-57.4-38.2-92.3-38.2s-67.7,13.6-92.4,38.3l-12.9,12.9l-13.1-13.1
                                    c-24.7-24.7-57.6-38.4-92.5-38.4c-34.8,0-67.6,13.6-92.2,38.2c-24.7,24.7-38.3,57.5-38.2,92.4c0,34.9,13.7,67.6,38.4,92.3
                                    l187.8,187.8c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-3.9l188.2-187.5c24.7-24.7,38.3-57.5,38.3-92.4
                                    C471.801,124.501,458.301,91.701,433.601,67.001z" 
                                    fill="none" 
                                    stroke="currentColor"
                                    stroke-width="10" />
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        <% }); %>
    <% } else { %>
        <div class="empty-state">
            <p>You haven't saved any recipes yet.</p>
            <a href="/home">Discover recipes to save</a>
        </div>
    <% } %>
</div>
    </div>
    <hr>
</div>
</body>

</html>